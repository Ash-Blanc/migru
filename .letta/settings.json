{
  "permissions": {
    "allow": [
      "Bash(cd /home/ash_blanc/src/migru && uv run pytest tests/ -v)",
      "Bash(cd /home/ash_blanc/src/migru && uv run pytest tests/test_config.py tests/test_utils.py -v)",
      "Bash(git -C:*)",
      "Edit(app/**)",
      "Bash(grep:*)",
      "Bash(ls:*)",
      "Bash(cd /home/ash_blanc/src/migru && uv add rich)",
      "Bash(cd /home/ash_blanc/src/migru && uv pip install rich)",
      "Bash(cd /home/ash_blanc/src/migru && uv run python -c \"import rich; print('rich version:', rich.__version__)\")",
      "Bash(cd /home/ash_blanc/src/migru && uv run python -c \"\nfrom app.main import display_banner\ndisplay_banner(show_welcome=True)\n\")",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(cd /home/ash_blanc/src/migru && uv run python -c \"\nfrom app.logger import suppress_verbose_logging, get_logger\nsuppress_verbose_logging()\nlogger = get_logger('test')\nlogger.info('This should not appear')\nlogger.error('This error should appear')\nprint('✓ Logging suppression working correctly')\n\")",
      "Bash(cd /home/ash_blanc/src/migru && uv run python -c \"\nfrom app.logger import suppress_verbose_logging\nsuppress_verbose_logging()\nfrom app.tools import SmartSearchTools\ntools = SmartSearchTools()\nprint('✓ SmartSearchTools initialized successfully')\nprint(f'✓ Available tools: {[func.name for func in tools.functions]}')\n\")",
      "Bash(cd /home/ash_blanc/src/migru && uv run python -c \"\nfrom app.config import config\nprint('✓ Configuration loaded')\nprint(f'  Primary model: {config.MODEL_PRIMARY}')\nprint(f'  Smart fallback: {config.MODEL_SMART}')\nprint(f'  Use team: {config.USE_TEAM}')\nprint(f'  Streaming: {config.STREAMING}')\nprint(f'  Retries: {config.RETRIES}')\nprint(f'  Retry delay: {config.DELAY_BETWEEN_RETRIES}s')\n\")",
      "Bash(cd /home/ash_blanc/src/migru && uv run python -c \"\nfrom app.logger import suppress_verbose_logging\nsuppress_verbose_logging()\nfrom app.agents import relief_team, cerebras_team, research_agent\nprint('✓ Agents loaded successfully')\nprint(f'  Relief team type: {type(relief_team).__name__}')\nprint(f'  Relief team model: {relief_team.model}')\nif cerebras_team:\n    print(f'  Cerebras team model: {cerebras_team.model}')\nprint(f'  Research agent available: {research_agent is not None}')\n\")",
      "Edit(**)",
      "Write(**)",
      "Bash(cd /home/ash_blanc/src/migru && uv run python -c \"\nfrom app.logger import suppress_verbose_logging\nsuppress_verbose_logging()\n\nprint('Testing personalization system...')\n\n# Test PersonalizationEngine\nfrom app.personalization import PersonalizationEngine\nfrom app.db import db\nengine = PersonalizationEngine(db)\nprint('✓ PersonalizationEngine initialized')\n\n# Test UserProfile\nprofile = engine.get_user_profile('test_user')\nprint('✓ UserProfile created')\n\n# Test insight extraction\nfrom app.services.user_insights import insight_extractor\ninsights = insight_extractor.extract_from_message(\n    'test_user',\n    'I work from home in my apartment and love reading in the mornings'\n)\nprint(f'✓ Extracted insights: {list(insights.keys())}')\n\n# Test profile update\nsuccess = insight_extractor.update_user_profile_from_insights('test_user', insights)\nprint(f'✓ Profile updated: {success}')\n\nprint('\\\\n✓ All personalization tests passed!')\n\")",
      "Bash(cd /home/ash_blanc/src/migru && uv run python -c \"from agno.db.redis import RedisDb; import inspect; db = RedisDb(); print([m for m in dir(db) if not m.startswith('_')])\")",
      "Bash(cd /home/ash_blanc/src/migru && uv run python -c \"\nfrom app.logger import suppress_verbose_logging\nsuppress_verbose_logging()\n\nprint('Testing personalization system (v2)...')\n\n# Test insight extraction\nfrom app.services.user_insights import insight_extractor\ninsights = insight_extractor.extract_from_message(\n    'test_user_2',\n    'I work from home in my apartment and love reading in the mornings'\n)\nprint(f'✓ Extracted insights: {list(insights.keys())}')\n\n# Test profile update\nsuccess = insight_extractor.update_user_profile_from_insights('test_user_2', insights)\nprint(f'✓ Profile updated: {success}')\n\n# Verify profile was saved\nfrom app.personalization import PersonalizationEngine\nfrom app.db import db\nengine = PersonalizationEngine(db)\nprofile = engine.get_user_profile('test_user_2').get_profile()\nprint(f'✓ Profile retrieved: {profile[\\\"basics\\\"][\\\"living_situation\\\"]}')\nprint(f'✓ Interests captured: {profile[\\\"interests\\\"][\\\"hobbies\\\"]}')\n\nprint('\\\\n✓ All personalization tests passed!')\n\")",
      "Bash(git push:*)",
      "Bash(cd /home/ash_blanc/src/migru && uv pip install pathway)",
      "Bash(cd /home/ash_blanc/src/migru && uv run python -c \"\nfrom app.logger import suppress_verbose_logging\nsuppress_verbose_logging()\n\nprint('Testing Real-Time Streaming Analytics...')\n\n# Test PatternDetector\nfrom app.services.realtime_analytics import pattern_detector\nprint('✓ PatternDetector initialized')\n\n# Test event recording\npattern_detector.record_event(\n    user_id='test_stream_user',\n    event_type='symptom',\n    content='headache this morning',\n    metadata={'hour': 9, 'weather_pressure': 1008}\n)\nprint('✓ Event recorded successfully')\n\n# Test pattern retrieval\npatterns = pattern_detector.get_temporal_patterns('test_stream_user')\nprint(f'✓ Patterns retrieved: {patterns}')\n\n# Test InsightGenerator\nfrom app.services.realtime_analytics import insight_generator\nprint('✓ InsightGenerator initialized')\n\n# Test LiveWellnessMonitor\nfrom app.streaming import live_monitor\nevent_type = live_monitor.extract_event_type('I have a headache')\nprint(f'✓ Event type extracted: {event_type}')\n\nprint('\\\\n✓ All streaming analytics tests passed!')\n\")",
      "Bash(cd /home/ash_blanc/src/migru && uv run python -c \"\nfrom app.logger import suppress_verbose_logging\nsuppress_verbose_logging()\n\nprint('Testing Real-Time Streaming Analytics (v2)...')\n\n# Test LiveWellnessMonitor\nfrom app.streaming import live_monitor\nevent_type = live_monitor.extract_event_type('I have a headache')\nprint(f'✓ Event type extracted: {event_type}')\n\nevent_type2 = live_monitor.extract_event_type('Feeling much better now')\nprint(f'✓ Relief detected: {event_type2}')\n\nevent_type3 = live_monitor.extract_event_type('Went for a walk')\nprint(f'✓ Activity detected: {event_type3}')\n\nprint('\\\\n✓ All streaming analytics tests passed!')\n\")"
    ]
  }
}